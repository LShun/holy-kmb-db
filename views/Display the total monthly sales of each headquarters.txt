cl scr
set linesize 82
SET PAGESIZE 17
BREAK ON MONTH

COMPUTE SUM LABEL TOTAL OF SUM(payment_amount) ON MONTH

PROMPT 'DISPLAY THE TOTAL MONTHLY SALES FOR EACH HEADQUARTER'
PROMPT
ALTER SESSION SET NLS_DATE_FORMAT = 'DD/MM/YYYY HH:MI:SS AM'; 
ACCEPT v_month	date	FORMAT 'mm'	PROMPT 'Enter Month :'

cl scr
TTITLE CENTER 'KMB TRAIN Sdn. Bhd.' SKIP 1 -
CENTER 'DISPLAY THE TOTAL MONTHLY SALES FOR EACH HEADQUARTER' SKIP 1 -
RIGHT 'Page:' FORMAT 999 sql.pno SKIP 2 
REPFOOTER CENTER 'END OF REPORT' 


column HEADQUARTER_ID format A5 Heading 'HQ_ID'
column HEADQUARTER_NAME format A50 Heading 'HQ_NAME'
column v_month format A5 Heading 'Month'
column MONTHLY_SALES format 99999.99

SELECT PHQ.MONTH, PHQ.headquarter_id,H.HEADQUARTER_NAME, SUM(payment_amount) AS MONTHLY_SALES
FROM payment_and_hq PHQ ,HEADQUARTERS H
WHERE MONTH='&v_month' AND H.HEADQUARTER_ID=PHQ.HEADQUARTER_ID
GROUP BY PHQ.headquarter_id, PHQ.MONTH,H.HEADQUARTER_NAME
ORDER BY PHQ.MONTH, PHQ.headquarter_id;


CLEAR COLUMNS
CLEAR BREAKS
CLEAR COMPUTES
TTITLE OFF
